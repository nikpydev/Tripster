(this["webpackJsonptripster-frontend"]=this["webpackJsonptripster-frontend"]||[]).push([[0],{166:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),l=a.n(c),o=a(6),s=a(10),i="http://localhost:3001/api",m=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},u=function(e,t){return e.location.pathname===t?{color:"#2ECC72"}:{color:"#FFFFFF"}};var d=Object(s.g)((function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-dark"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/Tripster",style:u(t,"/Tripster")},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/Tripster/flights",style:u(t,"/Tripster/flights")},"Flights")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/Tripster/hotels",style:u(t,"/Tripster/hotels")},"Hotels")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/Tripster/cart",style:u(t,"/Tripster/cart")},"Cart")),m()&&0===m().user.role&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/Tripster/user/dashboard",style:u(t,"/Tripster/user/dashboard")},"Dashboard")),m()&&1===m().user.role&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/Tripster/admin/dashboard",style:u(t,"/Tripster/admin/dashboard")},"Admin Dashboard")),!m()&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/Tripster/register",style:u(t,"/Tripster/register")},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/Tripster/login",style:u(t,"/Tripster/login")},"Login"))),m()&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link text-warning",style:{cursor:"pointer"},onClick:function(){!function(e){if("undefined"!==typeof window)localStorage.removeItem("jwt"),e(),fetch("".concat(i,"/logout"),{method:"GET"}).then((function(e){console.log("Logout Success: ",e)})).catch((function(e){console.log(e)}))}((function(){t.push("/Tripster")}))}},"Logout"))))}));var p=function(e){var t=e.title,a=void 0===t?"My Title":t,n=e.description,c=void 0===n?"My Description":n,l=e.className,o=void 0===l?"bg-dark text-white p-4":l,s=e.children;return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"jumbotron bg-dark text-white text-center"},r.a.createElement("h2",{className:"display-4"},a),r.a.createElement("p",{className:"lead"},c)),r.a.createElement("div",{className:o,style:{minHeight:"36vh"}},s)),r.a.createElement("footer",{className:"footer bg-dark mt-auto py-3"},r.a.createElement("div",{className:"container-fluid bg-success text-white text-center py-3"},r.a.createElement("h4",null,"If you got any questions, feel free to reach out!"),r.a.createElement("button",{className:"btn btn-warning btn-lg"},"Contact Us")),r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"An amazing ",r.a.createElement("span",{className:"text-white"},"MERN")," Portfolio Project!"))))};var h=function(e){return e.history,r.a.createElement(p,{title:"Home Page",description:"Landing Page"},r.a.createElement("h2",{className:"text-center"},"Something about the web app, announcements, offers, etc., will be mentioned here."))},f=a(12),E=a(3),g=a(5);var b=function(){var e=Object(n.useState)({fName:"",lName:"",email:"",photo:"",password:"",error:"",success:!1,formData:new FormData}),t=Object(g.a)(e,2),a=t[0],c=t[1],l=a.fName,s=a.lName,m=a.email,u=(a.photo,a.password),d=a.error,h=a.success,b=a.formData,N=function(e){return function(t){var n="photo"===e?t.target.files[0]:t.target.value;b.set(e,n),c(Object(E.a)(Object(E.a)({},a),{},Object(f.a)({},e,n)))}},v=function(e){var t;e.preventDefault(),c(Object(E.a)(Object(E.a)({},a),{},{error:void 0})),(t=b,fetch("".concat(i,"/register"),{method:"POST",headers:{Accept:"application/json"},body:t}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){console.log("REGISTER USER ATTEMPT: ",e),e.error?c(Object(E.a)(Object(E.a)({},a),{},{error:e.error,success:!1})):c(Object(E.a)(Object(E.a)({},a),{},{fName:"",lName:"",email:"",password:"",error:void 0,success:!0}))})).catch((function(e){console.log("CAUGHT AT FRONTEND: Error In Registration: ",e)}))};return r.a.createElement(p,{title:"Registration Page",description:"A page for user to register!"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-success",style:{display:h?"":"none"}},"Registration successful. Please ",r.a.createElement(o.b,{to:"/Tripster/login"},"Login Here")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-danger",style:{display:d?"":"none"}},d?"All fields are required":""))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"First Name"),r.a.createElement("input",{className:"form-control",type:"text",onChange:N("fName"),value:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Last Name"),r.a.createElement("input",{className:"form-control",type:"text",onChange:N("lName"),value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",onChange:N("email"),value:m})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",onChange:N("password"),value:u})),r.a.createElement("button",{onClick:v,className:"btn btn-success btn-block"},"Register")))),r.a.createElement("p",{className:"text-white text-center"},JSON.stringify(a)))};var N=function(e){var t=Object(n.useState)({email:"a@nikhil.com",password:"123456",error:void 0,loading:!1,didRedirect:!1}),a=Object(g.a)(t,2),c=a[0],l=a[1],o=c.email,u=c.password,d=c.error,h=c.loading,b=c.didRedirect,N=m().user,v=function(e){return function(t){l(Object(E.a)(Object(E.a)({},c),{},Object(f.a)({error:void 0},e,t.target.value)))}},y=function(e){e.preventDefault(),l(Object(E.a)(Object(E.a)({},c),{},{error:void 0,loading:!0})),function(e){return fetch("".concat(i,"/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:o,password:u}).then((function(e){e.error?l(Object(E.a)(Object(E.a)({},c),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){l(Object(E.a)(Object(E.a)({},c),{},{email:"",password:"",didRedirect:!0}))}))})).catch((function(e){console.log("Failed to login",e)}))};return r.a.createElement(p,{title:"Login Page",description:"A page for user to login!"},h&&r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("h2",null,"Loading...")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-danger",style:{display:d?"":"none"}},d))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",onChange:v("email"),value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",onChange:v("password"),value:u})),r.a.createElement("button",{className:"btn btn-success btn-block",onClick:y},"Login")))),function(){if(b)return N&&1===N.role?r.a.createElement(s.a,{to:"/Tripster/admin/dashboard"}):r.a.createElement(s.a,{to:"/Tripster/user/dashboard"})}(),r.a.createElement("p",{className:"text-white text-center"},JSON.stringify(c)))},v=a(35),y=a.n(v),j=(a(64),a(76)),O=a.n(j);var C=function(e){return e.hotel,r.a.createElement("figure",{className:"image-container rounded border border-success p-2"},r.a.createElement("img",{src:O.a,alt:"hotel",style:{height:"100%",width:"100%"},className:"rounded card-img"}))},T=function(e,t){var a=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.push(Object(E.a)(Object(E.a)({},e),{},{count:1})),localStorage.setItem("cart",JSON.stringify(a)),t())},w=function(e){var t=[];return"undefined"!=typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(a,n){a._id===e&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t))),t};var x=function(e){var t=e.hotel,a=e.addToCart,c=void 0===a||a,l=e.removeFromCart,o=void 0!==l&&l,s=e.reload,i=e.setReload,m=Object(n.useState)(!1),u=Object(g.a)(m,2),d=u[0],p=u[1],h=Object(n.useState)(!1),f=Object(g.a)(h,2),E=(f[0],f[1]),b=Object(n.useState)(new Date),N=Object(g.a)(b,2),v=N[0],j=N[1],O=Object(n.useState)(new Date),x=Object(g.a)(O,2),k=x[0],S=x[1],_=t?t.brand:void 0,A=t?t.name:void 0,D=t?t.description:void 0,F=t?t.price:void 0,R=function(e){return function(t){"checkInDate"===e?j(t):"checkOutDate"===e&&S(t)}},H=function(e){switch(e){case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return"Sunday"}};return r.a.createElement("div",{className:"hotel-card-container-parent"},r.a.createElement("div",{className:"hotel-card-container"},r.a.createElement("div",{className:"hotel-card-container__image-column"},r.a.createElement("div",{className:"hotel-card-container__image-box"},r.a.createElement(C,{hotel:t||void 0})),r.a.createElement("div",{className:"hotel-card-container__product-name"},_," ",A)),r.a.createElement("p",{className:"hotel-card-container__product-description"},D),r.a.createElement("p",{className:"hotel-card-container__product-price"},"\u20b9 ",F),r.a.createElement("div",{className:"hotel-card-container__add-or-remove-item"},r.a.createElement("div",{className:"col-12"},function(e){return e&&r.a.createElement("button",{onClick:function(){p(!d)},className:"btn btn-block btn-outline-success mt-2 mb-2"},d?"Collapse":"Book Now")}(c)),r.a.createElement("div",{className:"col-12"},function(e){return e&&r.a.createElement("button",{onClick:function(){w(t._id),i(!s)},className:"btn btn-block btn-outline-danger mt-2 mb-2"},"Delete")}(o))),d&&r.a.createElement("div",{className:"booking-section"},r.a.createElement("div",{className:"select-dates"},r.a.createElement("div",{className:"checkin-date"},r.a.createElement("h4",null,"Select check-in date"),r.a.createElement(y.a,{selected:v,onChange:R("checkInDate"),showTimeSelect:!0,dateFormat:"Pp"})),r.a.createElement("div",{className:"checkout-date"},r.a.createElement("h4",null,"Select check-out date"),r.a.createElement(y.a,{selected:k,onChange:R("checkOutDate"),showTimeSelect:!0,dateFormat:"Pp"}))),r.a.createElement("button",{onClick:function(){p(!d),t.checkin_datetime=v.getDate()+"/"+v.getMonth()+"/"+v.getFullYear()+" at "+v.getHours()+":"+v.getMinutes()+" Hrs on "+H(v.getDay()),t.checkout_datetime=k.getDate()+"/"+k.getMonth()+"/"+k.getFullYear()+" at "+k.getHours()+":"+k.getMinutes()+" Hrs on "+H(k.getDay()),T(t,(function(){E(!0)}))},className:"btn btn-block btn-outline-success mt-2 mb-2"},"Add Hotel to Cart")),o&&r.a.createElement("div",{className:"stay-details"},r.a.createElement("div",{className:"checkin-date"},"\ud83d\udcc5 CHECK-IN DATE & TIME:\u2192 ",t.checkin_datetime),r.a.createElement("div",{className:"checkout-date"},"\ud83d\udcc5 CHECK-OUT DATE & TIME:\u2192 ",t.checkout_datetime))),r.a.createElement("hr",null))};var k=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(void 0),o=Object(g.a)(l,2),s=(o[0],o[1]),m=Object(n.useState)([]),u=Object(g.a)(m,2),d=u[0],h=u[1],f=Object(n.useState)(""),E=Object(g.a)(f,2),b=E[0],N=E[1],v=function(){fetch("".concat(i,"/hotels"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log("getAllHotels() Error: ",e)})).then((function(e){e&&(e.error?s(e.error):c(e))}))},y=function(){fetch("".concat(i,"/hotels/cities")).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e&&(e.error?console.log("ERROR: ",e.error):h(e))}))};return Object(n.useEffect)((function(){v(),y()}),[]),r.a.createElement(p,{title:"Hotels Section",description:"All the hotels will be listed here."},r.a.createElement("div",{className:"hotel-container row"},r.a.createElement("div",{className:"sidebar col-2"},r.a.createElement("hr",null),r.a.createElement("h5",{className:"text-center"},"APPLY FILTERS"),r.a.createElement("hr",null),r.a.createElement("h5",{className:"text-center"},"Filter by Price",r.a.createElement("button",{className:"btn btn-block btn-outline-danger mt-2"},"Clear Filter")),r.a.createElement("hr",null),r.a.createElement("form",{action:"#"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{className:"with-gap",name:"group1",type:"radio"}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"text-white"},"Below \u20b9 5,000"))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{className:"with-gap",name:"group1",type:"radio"}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"text-white"},"\u20b9 5,000 - \u20b9 10,000"))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{className:"with-gap",name:"group1",type:"radio"}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"text-white"},"\u20b9 10,000 - \u20b9 20,000"))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{className:"with-gap",name:"group1",type:"radio"}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"text-white"},"Above \u20b9 20,000")))),r.a.createElement("hr",null),r.a.createElement("h5",{className:"text-center"},"Select City",r.a.createElement("button",{className:"btn btn-block btn-outline-danger mt-2",onClick:function(){N("")}},"Clear Filter")),r.a.createElement("hr",null),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{onChange:function(e){N(e.target.value),localStorage.setItem("selectedCity",e.target.value)},className:"form-control",placeholder:"Category"},r.a.createElement("option",null,"Select"),d&&d.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement("hr",null)),r.a.createElement("div",{className:"hotel-content col-10"},r.a.createElement("hr",{style:{backgroundColor:"white"}}),a.map((function(e,t){return b?(console.log("inside if block"),e.city===b?r.a.createElement("div",{className:"mb-4",key:t},r.a.createElement(x,{hotel:e})):void 0):(console.log("inside else block"),r.a.createElement("div",{className:"mb-4",key:t},r.a.createElement(x,{hotel:e})))})))))};var S=function(e){var t=e.flight,a=e.addToCart,c=void 0===a||a,l=e.removeFromCart,o=void 0!==l&&l,s=e.reload,i=e.setReload,m=Object(n.useState)(!1),u=Object(g.a)(m,2),d=(u[0],u[1]),p=Object(n.useState)(new Date),h=Object(g.a)(p,2),f=h[0],E=h[1],b=Object(n.useState)(0),N=Object(g.a)(b,2),v=N[0],j=N[1],O=Object(n.useState)(!1),C=Object(g.a)(O,2),x=C[0],k=C[1],S=t?t.brand:"",_=t?t.name:"",A=t?t.source:"",D=t?t.departure_time:"",F=t?t.destination:"",R=t?t.arrival_time:"",H=t?t.price:"";return r.a.createElement("div",{className:"flight-card-container-parent"},r.a.createElement("div",{className:"flight-card-container"},r.a.createElement("div",{className:"flight-card-container__product-name"},"\u2708 ",S," ",_),r.a.createElement("div",{className:"flight-card-container__source"},r.a.createElement("div",null,D),A),r.a.createElement("div",{className:"to-text"},"to"),r.a.createElement("div",{className:"flight-card-container__destination"},r.a.createElement("div",null,R),F),r.a.createElement("div",{className:"flight-card-container__product-price"},"\u20b9 ",H),r.a.createElement("div",{className:"flight-card-container__add-or-remove-item"},r.a.createElement("div",{className:"col-12"},function(e){return e&&r.a.createElement("button",{onClick:function(){k(!x)},className:"btn btn-block btn-outline-success mt-2 mb-2"},x?"Collapse":"Book Now")}(c)),r.a.createElement("div",{className:"col-12"},function(e){return e&&r.a.createElement("button",{onClick:function(){w(t._id),i(!s)},className:"btn btn-block btn-outline-danger mt-2 mb-2"},"Delete")}(o))),x&&r.a.createElement("div",{className:"select-travel-details"},r.a.createElement("div",{className:"select-travel-date"},r.a.createElement("h4",null,"Select travel date"),r.a.createElement(y.a,{selected:f,onChange:function(e){E(e)},dateFormat:"dd/MM/yyyy"})),r.a.createElement("div",{className:"select-seat-count"},r.a.createElement("h4",null,"Select no. of seats"),r.a.createElement("input",{onChange:function(e){j(e.target.value)},className:"form-control",placeholder:"Enter seat count",value:v})),r.a.createElement("button",{onClick:function(){k(!x),t.travel_date=f.getDate()+"/"+f.getMonth()+"/"+f.getFullYear()+" on "+function(e){switch(e){case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return"Sunday"}}(f.getDay()),t.seats_booked=v,T(t,(function(){d(!0)}))},className:"submit-booking btn btn-block btn-outline-success mt-2 mb-2"},"Add Flight to Cart")),o&&r.a.createElement("div",{className:"travel-details"},r.a.createElement("div",{className:"travel-date"},"\ud83d\udcc5 DATE OF TRAVEL:\u2192 ",t.travel_date),r.a.createElement("div",{className:"seats-booked"},"\ud83d\udcba NO. OF SEATS BOOKED:\u2192 ",t.seats_booked))),r.a.createElement("hr",null))};var _=function(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(g.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)([]),d=Object(g.a)(u,2),h=d[0],f=d[1],E=Object(n.useState)(void 0),b=Object(g.a)(E,2),N=b[0],v=b[1],y=function(){fetch("".concat(i,"/flights"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log("getAllFlights() Error: ",e)})).then((function(e){e&&(e.error?v(e.error):f(e))}))};Object(n.useEffect)((function(){y()}),[]);var j=function(e){return function(t){var a=t.target.value;"source"===e?c(a):"destination"===e&&m(a)}};return r.a.createElement(p,{title:"Flights Section",description:"All the flights will be listed here."},r.a.createElement("div",{className:"flight-container row"},r.a.createElement("div",{className:"sidebar col-2"},r.a.createElement("hr",null),r.a.createElement("h5",{className:"text-center"},"APPLY FILTERS"),r.a.createElement("hr",null),r.a.createElement("h5",{className:"text-center"},"Filter by Timings",r.a.createElement("button",{className:"btn btn-block btn-outline-danger mt-2"},"Clear Filter")),r.a.createElement("hr",null),r.a.createElement("form",{action:"#"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{className:"with-gap",name:"group1",type:"radio"}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"text-white"},"Early Morning"))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{className:"with-gap",name:"group1",type:"radio"}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"text-white"},"Afternoon"))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{className:"with-gap",name:"group1",type:"radio"}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"text-white"},"Evening"))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{className:"with-gap",name:"group1",type:"radio"}),r.a.createElement("span",{style:{paddingLeft:"1rem"},className:"text-white"},"Night")))),r.a.createElement("hr",null)),r.a.createElement("div",{className:"flight-content col-10"},N,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("input",{onChange:j("source"),name:"source",className:"form-control",placeholder:"Source",value:a})),r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("input",{onChange:j("destination"),name:"destination",className:"form-control",placeholder:"Destination",value:s}))),r.a.createElement("hr",{style:{backgroundColor:"white"}}),h.map((function(e,t){return a&&s&&e.source===a&&e.destination===s||!s&&a&&e.source===a||!a&&s&&e.destination===s?r.a.createElement("div",{className:"mb-4",key:t},r.a.createElement(S,{flight:e})):a||s?void 0:r.a.createElement("div",{className:"mb-4",key:t},r.a.createElement(S,{flight:e}))})))))};var A=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(g.a)(l,2),s=o[0],u=o[1],d=m()&&m().user._id,h=m()&&m().token;return Object(n.useEffect)((function(){c(function(){if("undefined"!==typeof window&&localStorage.getItem("cart"))return JSON.parse(localStorage.getItem("cart"))}())}),[s]),r.a.createElement(p,{title:"Cart Page",description:"Ready to checkout"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-9"},a&&a.length>0?r.a.createElement("div",null,r.a.createElement("h2",null,"This section is to load products"),r.a.createElement("hr",null),a.map((function(e,t){return e.source?r.a.createElement(S,{key:t,flight:e,addToCart:!1,removeFromCart:!0,reload:s,setReload:u}):r.a.createElement(x,{key:t,hotel:e,addToCart:!1,removeFromCart:!0,reload:s,setReload:u})}))):r.a.createElement("h3",null,"No Products in your cart")),r.a.createElement("div",{className:"col-3"},r.a.createElement("h3",null,"Integrate Payment Gateway here\ud83d\udc47"),r.a.createElement("button",{onClick:function(){var e=[],t=[];a&&a.forEach((function(a,n){a.source?e.push(a):t.push(a)})),function(e,t,a){return fetch("".concat(i,"/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:a})}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(d,h,{flights:e,hotels:t}).then((function(e){console.log("CART createAnOrder RESPONSE: ",e)})).catch((function(e){console.log("ERROR: ",e)})),function(e){if("undefined"!==typeof window){localStorage.removeItem("cart");localStorage.setItem("cart",JSON.stringify([])),e()}}((function(){u(!s),console.log("Did we get a crash?")}))},className:"btn btn-block btn-outline-success mt-4 mb-2"},"Place Order"))))},D=a(43),F=function(e){var t=e.component,a=Object(D.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return m()&&1===m().user.role?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},R=a(79),H=a.n(R);var P=function(){return r.a.createElement("figure",{className:"image-container rounded border border-success p-2"},r.a.createElement("img",{src:H.a,alt:"tripster user",style:{height:"100%",width:"100%"},className:"rounded card-img"}))};var I=function(){var e=m().user,t=e.fName,a=e.lName,n=e.email;return r.a.createElement(p,{className:"container bg-success p-4",title:"Welcome to Admin Area",description:"Manage all of your products here."},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header bg-dark text-white"},"Admin Navigation"),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/user/update/profile",className:"nav-link text-success"},"Edit Profile")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/user/orders",className:"nav-link text-success"},"Manage Your Orders")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/create/flight-category",className:"nav-link text-success"},"Create Flight Categories")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/flight-categories",className:"nav-link text-success"},"Manage Flight Categories")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/create/flight",className:"nav-link text-success"},"Create Flights")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/flights",className:"nav-link text-success"},"Manage Flights")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/create/hotel-category",className:"nav-link text-success"},"Create Hotel Categories")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/hotel-categories",className:"nav-link text-success"},"Manage Hotel Categories")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/create/hotel",className:"nav-link text-success"},"Create Hotels")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/hotels",className:"nav-link text-success"},"Manage Hotels")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/orders",className:"nav-link text-success"},"View All Orders")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/admin/users/all",className:"nav-link text-success"},"View All Users"))))),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card-img-top"},r.a.createElement(P,null)))),r.a.createElement("h4",{className:"card-header"},"Admin Information"),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-success mr-2"},"Name:"),"".concat(t," ").concat(a)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-success mr-2"},"Email:"),"".concat(n)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-danger mr-2"},"Admin Privileges:"),"Granted"))))))},U=function(e,t){return fetch("".concat(i,"/user/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log("ERROR: ",e)}))};var L=function(){var e=m(),t=e.user,a=(t._id,t.fName),n=t.lName,c=t.email;return e.token,r.a.createElement(p,{className:"container bg-success p-4",title:"Welcome to Your Dashboard",description:"Manage your profile and orders here."},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header bg-dark text-white"},"User Navigation"),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/user/update/profile",className:"nav-link text-success"},"Edit Profile")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(o.b,{to:"/Tripster/user/orders",className:"nav-link text-success"},"Manage Your Orders"))))),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"card-img-top"},r.a.createElement(P,null)))),r.a.createElement("h4",{className:"card-header"},"User Information"),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-success mr-2"},"Name:"),"".concat(a," ").concat(n)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-success mr-2"},"Email:"),"".concat(c)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-danger mr-2"},"Admin Privileges:"),"Revoked"))))))},M=function(e){var t=e.component,a=Object(D.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return m()?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},B=function(){return fetch("".concat(i,"/flight-categories")).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},z=function(){return fetch("".concat(i,"/hotel-categories")).then((function(e){return e.json()})).catch((function(e){console.log(e)}))};var J=function(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(void 0),s=Object(g.a)(l,2),u=s[0],d=s[1],h=Object(n.useState)(!1),f=Object(g.a)(h,2),E=f[0],b=f[1],N=m(),v=N.user._id,y=N.token,j=function(e){d(void 0),c(e.target.value)},O=function(e){e.preventDefault(),d(void 0),b(!1),function(e,t,a){return fetch("".concat(i,"/flight-category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(v,y,{name:a}).then((function(e){e&&(e.error?d(e.error):(d(void 0),b(!0),c("")))}))};return r.a.createElement(p,{title:"Create a Flight category here",description:"Add a new Flight category",className:"container bg-info p-4"},r.a.createElement("div",{className:"row bg-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},function(){if(E)return r.a.createElement("h4",{className:"text-success"},"Category created successfully")}(),function(){if(u)return r.a.createElement("h4",{className:"text-warning"},"Failed to create category: ".concat(u))}(),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"lead"},"Enter the name of your Flight Category."),r.a.createElement("input",{type:"text",className:"form-control my-3",onChange:j,value:a,autoFocus:!0,required:!0,placeholder:"For e.g. Domestic"}),r.a.createElement("button",{className:"btn btn-outline-info",onClick:O},"Create Flight Category"))),r.a.createElement("div",{className:"mt-5"},r.a.createElement(o.b,{to:"/Tripster/admin/dashboard",className:"btn btn-sm btn-success mb-3"},"Admin Home")))))};var G=function(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(void 0),s=Object(g.a)(l,2),u=s[0],d=s[1],h=Object(n.useState)(!1),f=Object(g.a)(h,2),E=f[0],b=f[1],N=m(),v=N.user._id,y=N.token,j=function(e){d(void 0),c(e.target.value)},O=function(e){e.preventDefault(),d(void 0),b(!1),function(e,t,a){return fetch("".concat(i,"/hotel-category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(v,y,{name:a}).then((function(e){e&&(e.error?d(e.error):(d(void 0),b(!0),c("")))}))};return r.a.createElement(p,{title:"Create a category here",description:"Add a new Hotel category",className:"container bg-info p-4"},r.a.createElement("div",{className:"row bg-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},function(){if(E)return r.a.createElement("h4",{className:"text-success"},"Category created successfully")}(),function(){if(u)return r.a.createElement("h4",{className:"text-warning"},"Failed to create category: ".concat(u))}(),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"lead"},"Enter the name of your Hotel Category."),r.a.createElement("input",{type:"text",className:"form-control my-3",onChange:j,value:a,autoFocus:!0,required:!0,placeholder:"For e.g. 5-Star"}),r.a.createElement("button",{className:"btn btn-outline-info",onClick:O},"Create Hotel Category"))),r.a.createElement("div",{className:"mt-5"},r.a.createElement(o.b,{to:"/Tripster/admin/dashboard",className:"btn btn-sm btn-success mb-3"},"Admin Home")))))};var W=function(){var e=m(),t=e.user._id,a=e.token,c=Object(n.useState)({brand:"",name:"",price:"",description:"",categories:[],category:"",city:"",street_address:"",total_rooms:0,rooms_available:0,photo:"",loading:!1,error:void 0,createdHotel:void 0,didRedirect:!1,formData:void 0}),l=Object(g.a)(c,2),s=l[0],u=l[1],d=s.brand,h=s.name,b=s.price,N=s.description,v=s.categories,y=(s.category,s.city),j=s.street_address,O=s.total_rooms,C=s.rooms_available,T=(s.photo,s.loading,s.error),w=s.createdHotel,x=(s.didRedirect,s.formData);Object(n.useEffect)((function(){z().then((function(e){console.log("getAllHotelCategories: ",e),e&&(e.error?u(Object(E.a)(Object(E.a)({},s),{},{error:e.error})):u(Object(E.a)(Object(E.a)({},s),{},{categories:e,formData:new FormData})))}))}),[]);var k=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;x.set(e,a),u(Object(E.a)(Object(E.a)({},s),{},Object(f.a)({},e,a)))}},S=function(e){e.preventDefault(),u(Object(E.a)(Object(E.a)({},s),{},{error:void 0,loading:!0})),function(e,t,a){return fetch("".concat(i,"/hotel/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(t,a,x).then((function(e){e&&(e.error?u(Object(E.a)(Object(E.a)({},s),{},{createdHotel:void 0,error:e.error})):u(Object(E.a)(Object(E.a)({},s),{},{brand:"",name:"",price:"",description:"",city:"",street_address:"",total_rooms:0,photo:"",loading:!1,error:void 0,createdHotel:e.name,didRedirect:!1})))})).catch((function(e){console.log(e)}))};return r.a.createElement(p,{title:"Add a hotel here!",description:"This is the hotel creation section",className:"container bg-info p-4"},r.a.createElement(o.b,{to:"/Tripster/admin/dashboard",className:"btn btn-md btn-dark mb-3"},"Admin Home"),r.a.createElement("div",{className:"row bg-dark text-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("div",{className:"alert alert-success mt-3",style:{display:w?"":"none"}},r.a.createElement("h4",null,w," created successfully")),r.a.createElement("div",{className:"alert alert-warning mt-3",style:{display:T?"":"none"}},r.a.createElement("h4",null,"Couldn't create hotel: ",T)),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("input",{onChange:k("brand"),name:"brand",className:"form-control",placeholder:"Brand",value:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("name"),name:"name",className:"form-control",placeholder:"Name",value:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:k("description"),name:"photo",className:"form-control",placeholder:"Description",value:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("price"),type:"number",className:"form-control",placeholder:"Price",value:b})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("city"),className:"form-control",placeholder:"City",value:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("street_address"),className:"form-control",placeholder:"Street Address",value:j})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("total_rooms"),type:"number",className:"form-control",placeholder:"Total Rooms",value:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{onChange:k("category"),className:"form-control",placeholder:"Category"},r.a.createElement("option",null,"Select"),v&&v.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("rooms_available"),type:"number",className:"form-control",placeholder:"Rooms Available",value:C})),r.a.createElement("button",{type:"submit",onClick:S,className:"btn btn-outline-success mb-3"},"Create Hotel")))))};var Y=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=m(),s=l.user._id,u=l.token,d=function(){fetch("".concat(i,"/hotels"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e&&(e.error?console.log(e.error):c(e))}))};Object(n.useEffect)((function(){d()}),[]);var h=function(e){(function(e,t,a){return fetch("".concat(i,"/hotel/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e,s,u).then((function(e){e&&(e.error?console.log(e.error):d())})).catch((function(e){console.log(e)}))};return r.a.createElement(p,{title:"Welcome admin",description:"Manage hotels here"},r.a.createElement("h2",{className:"mb-4"},"All hotels:"),r.a.createElement(o.b,{className:"btn btn-info",to:"/Tripster/admin/dashboard"},r.a.createElement("span",{className:""},"Admin Home")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"text-center text-white my-3"},"Total ",a.length," hotels"),a.map((function(e,t){return r.a.createElement("div",{key:t,className:"row text-center mb-2 "},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",{className:"text-white text-left"},e.brand," ",e.name)),r.a.createElement("div",{className:"col-4"},r.a.createElement(o.b,{className:"btn btn-success",to:"/Tripster/admin/hotel/update/".concat(e._id)},r.a.createElement("span",{className:""},"Update"))),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{onClick:function(){h(e._id)},className:"btn btn-danger"},"Delete")))})))))};var V=function(e){var t=e.match,a=m(),c=a.user._id,l=a.token,s=Object(n.useState)({brand:"",name:"",price:"",description:"",categories:[],category:"",city:"",street_address:"",total_rooms:0,rooms_available:0,photo:"",loading:!1,error:"",createdHotel:"",didRedirect:!1,formData:""}),u=Object(g.a)(s,2),d=u[0],h=u[1],b=d.brand,N=d.name,v=d.price,y=d.description,j=d.categories,O=(d.category,d.city),C=d.street_address,T=d.total_rooms,w=d.rooms_available,x=(d.photo,d.loading,d.error),k=d.createdHotel,S=(d.didRedirect,d.formData),_=function(e){(function(e){return fetch("".concat(i,"/hotel/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e).then((function(e){console.log("getHotel: ",e),e&&(e.error?h(Object(E.a)(Object(E.a)({},d),{},{error:e.error})):(A(),h(Object(E.a)(Object(E.a)({},d),{},{brand:e.brand,name:e.name,price:e.price,description:e.description,category:e.category._id,city:e.city,street_address:e.street_address,total_rooms:e.total_rooms,rooms_available:e.rooms_available,formData:new FormData})),console.log("VALUES: ",d)))}))},A=function(){z().then((function(e){e&&(e.error?h(Object(E.a)(Object(E.a)({},d),{},{error:e.error})):h({categories:e,formData:new FormData}))}))};Object(n.useEffect)((function(){console.log("match.params: ",t.params.hotelId),_(t.params.hotelId)}),[]);var D=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;S.set(e,a),h(Object(E.a)(Object(E.a)({},d),{},Object(f.a)({},e,a)))}},F=function(e){e.preventDefault(),h(Object(E.a)(Object(E.a)({},d),{},{error:"",loading:!0})),function(e,t,a,n){return fetch("".concat(i,"/hotel/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},body:n}).then((function(e){return console.log("Admin API call",e),e.json()})).catch((function(e){console.log("Admin API call",e)}))}(t.params.hotelId,c,l,S).then((function(e){h(e?Object(E.a)(Object(E.a)({},d),{},{brand:"",name:"",price:"",description:"",city:"",street_address:"",total_rooms:0,photo:"",loading:!1,error:"",createdHotel:e.name,didRedirect:!1}):Object(E.a)(Object(E.a)({},d),{},{createdHotel:"",error:"Couldn't Update"}))})).catch((function(e){console.log(e)}))};return r.a.createElement(p,{title:"Update a hotel here!",description:"This is the hotel update section",className:"container bg-info p-4"},r.a.createElement(o.b,{to:"/Tripster/admin/dashboard",className:"btn btn-md btn-dark mb-3"},"Admin Home"),r.a.createElement("div",{className:"row bg-dark text-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("div",{className:"alert alert-success mt-3",style:{display:k?"":"none"}},r.a.createElement("h4",null,k," updated successfully")),r.a.createElement("div",{className:"alert alert-warning mt-3",style:{display:x?"":"none"}},r.a.createElement("h4",null,"Couldn't update hotel")),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("input",{onChange:D("brand"),name:"brand",className:"form-control",placeholder:"Brand",value:b})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:D("name"),name:"name",className:"form-control",placeholder:"Name",value:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:D("description"),name:"photo",className:"form-control",placeholder:"Description",value:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:D("price"),type:"number",className:"form-control",placeholder:"Price",value:v})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:D("city"),className:"form-control",placeholder:"City",value:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:D("street_address"),className:"form-control",placeholder:"Street Address",value:C})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:D("total_rooms"),type:"number",className:"form-control",placeholder:"Total Rooms",value:T})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{onChange:D("category"),className:"form-control",placeholder:"Category"},r.a.createElement("option",null,"Select"),j&&j.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:D("rooms_available"),type:"number",className:"form-control",placeholder:"Rooms Available",value:w})),r.a.createElement("button",{type:"submit",onClick:F,className:"btn btn-outline-success mb-3"},"Update Hotel")))))},q=(a(145),a(60)),K=a.n(q);var Q=function(){var e=m(),t=e.user._id,a=e.token,c=Object(n.useState)({brand:"",name:"",price:"",description:"",categories:[],category:"",source:"",destination:"",departure_time:"",arrival_time:"",total_seats_count:"",seats_remaining:"",loading:!1,error:"",createdFlight:"",didRedirect:!1}),l=Object(g.a)(c,2),s=l[0],u=l[1],d=s.brand,h=s.name,b=s.price,N=s.description,v=s.categories,y=s.source,j=s.destination,O=s.departure_time,C=s.arrival_time,T=s.total_seats_count,w=s.seats_remaining,x=s.error,k=s.createdFlight;Object(n.useEffect)((function(){B().then((function(e){console.log("getAllFlightCategories: ",e),e&&(e.error?u(Object(E.a)(Object(E.a)({},s),{},{error:e.error})):u(Object(E.a)(Object(E.a)({},s),{},{categories:e})))}))}),[]);var S=function(e){return function(t){var a="departure_time"===e||"arrival_time"===e?t:t.target.value;u(Object(E.a)(Object(E.a)({},s),{},Object(f.a)({},e,a)))}},_=function(e){e.preventDefault(),u(Object(E.a)(Object(E.a)({},s),{},{error:"",loading:!0})),function(e,t,a){return fetch("".concat(i,"/flight/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then((function(e){return console.log("RESPONSE: ",e),e.json()})).catch((function(e){console.log("ERROR: ",e.toString())}))}(t,a,s).then((function(e){console.log("DATA: ",e),e&&(e.error?u(Object(E.a)(Object(E.a)({},s),{},{createdFlight:"",error:e.error})):u(Object(E.a)(Object(E.a)({},s),{},{brand:"",name:"",price:"",description:"",source:"",destination:"",departure_time:"",arrival_time:"",total_seats_count:"",seats_remaining:"",loading:!1,error:"",createdFlight:e.name,didRedirect:!1})))})).catch((function(e){console.log(e)}))};return r.a.createElement(p,{title:"Add a flight here!",description:"This is the flight creation section",className:"container bg-info p-4"},r.a.createElement(o.b,{to:"/Tripster/admin/dashboard",className:"btn btn-md btn-dark mb-3"},"Admin Home"),r.a.createElement("div",{className:"row bg-dark text-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("div",{className:"alert alert-success mt-3",style:{display:k?"":"none"}},r.a.createElement("h4",null,k," created successfully")),r.a.createElement("div",{className:"alert alert-warning mt-3",style:{display:x?"":"none"}},r.a.createElement("h4",null,"Couldn't create flight")),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("input",{onChange:S("brand"),name:"brand",className:"form-control",placeholder:"Brand",value:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:S("name"),name:"name",className:"form-control",placeholder:"Name",value:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:S("description"),name:"photo",className:"form-control",placeholder:"Description",value:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:S("price"),type:"number",className:"form-control",placeholder:"Price",value:b})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:S("source"),className:"form-control",placeholder:"Source",value:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:S("destination"),className:"form-control",placeholder:"Destination",value:j})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Set Departure Time"),r.a.createElement(K.a,{onChange:S("departure_time"),value:O,format:"HH:mm",minTime:"00:00:00",maxTime:"23:59:59",hourPlaceholder:"HH",minutePlaceholder:"mm",clockIcon:null,disableClock:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Set Arrival Time"),r.a.createElement(K.a,{onChange:S("arrival_time"),value:C,format:"HH:mm",minTime:"00:00:00",maxTime:"23:59:59",hourPlaceholder:"HH",minutePlaceholder:"mm",clockIcon:null,disableClock:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:S("total_seats_count"),type:"number",className:"form-control",placeholder:"Total Seats Count",value:T})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{onChange:S("category"),className:"form-control",placeholder:"Category"},r.a.createElement("option",null,"Select"),v&&v.map((function(e,t){var a=e._id;return r.a.createElement("option",{key:t,value:a},e.name)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:S("seats_remaining"),type:"number",className:"form-control",placeholder:"Seats Remaining",value:w})),r.a.createElement("button",{type:"submit",onClick:_,className:"btn btn-outline-success mb-3"},"Create Flight")))))};var X=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=m(),s=l.user._id,u=l.token,d=function(){fetch("".concat(i,"/flights"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then((function(e){e&&(e.error?console.log(e.error):c(e))}))};Object(n.useEffect)((function(){d()}),[]);var h=function(e){(function(e,t,a){return fetch("".concat(i,"/flight/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e,s,u).then((function(e){e&&(e.error?console.log(e.error):d())})).catch((function(e){console.log(e)}))};return r.a.createElement(p,{title:"Welcome admin",description:"Manage flights here"},r.a.createElement("h2",{className:"mb-4"},"All flights:"),r.a.createElement(o.b,{className:"btn btn-info",to:"/Tripster/admin/dashboard"},r.a.createElement("span",{className:""},"Admin Home")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"text-center text-white my-3"},"Total ",a.length," flights"),a.map((function(e,t){return r.a.createElement("div",{key:t,className:"row text-center mb-2 "},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",{className:"text-white text-left"},e.brand," ",e.name)),r.a.createElement("div",{className:"col-4"},r.a.createElement(o.b,{className:"btn btn-success",to:"/Tripster/admin/flight/update/".concat(e._id)},r.a.createElement("span",{className:""},"Update"))),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{onClick:function(){h(e._id)},className:"btn btn-danger"},"Delete")))})))))};var Z=function(e){var t=e.match,a=m(),c=a.user._id,l=a.token,s=Object(n.useState)({brand:"",name:"",price:"",description:"",categories:[],category:"",source:"",destination:"",total_seats_count:"",seats_remaining:"",loading:!1,error:"",createdFlight:"",didRedirect:!1}),u=Object(g.a)(s,2),d=u[0],h=u[1],b=d.brand,N=d.name,v=d.price,y=d.description,j=d.categories,O=(d.category,d.source),C=d.destination,T=d.total_seats_count,w=d.seats_remaining,x=(d.photo,d.loading,d.error),k=d.createdFlight,S=(d.didRedirect,function(e){(function(e){return fetch("".concat(i,"/flight/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e).then((function(e){e&&(e.error?h(Object(E.a)(Object(E.a)({},d),{},{error:e.error})):(_(),h(Object(E.a)(Object(E.a)({},d),{},{brand:e.brand,name:e.name,price:e.price,description:e.description,source:e.source,destination:e.destination,total_seats_count:e.total_seats_count,seats_remaining:e.seats_remaining,loading:!1,error:"",createdFlight:e.name,didRedirect:!1}))))}))}),_=function(){B().then((function(e){e&&(e.error?h(Object(E.a)(Object(E.a)({},d),{},{error:e.error})):h({categories:e}))}))};Object(n.useEffect)((function(){S(t.params.flightId)}),[]);var A=function(e){return function(t){var a=t.target.value;h(Object(E.a)(Object(E.a)({},d),{},Object(f.a)({},e,a)))}},D=function(e){e.preventDefault(),h(Object(E.a)(Object(E.a)({},d),{},{error:void 0,loading:!0})),function(e,t,a,n){return fetch("".concat(i,"/flight/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)}).then((function(e){return console.log("Admin API call",e),e.json()})).catch((function(e){console.log("Admin API call",e)}))}(t.params.flightId,c,l,d).then((function(e){h(e?Object(E.a)(Object(E.a)({},d),{},{brand:"",name:"",price:"",description:"",source:"",destination:"",total_seats_count:"",seats_remaining:"",loading:!1,error:"",createdFlight:e.name,didRedirect:!1}):Object(E.a)(Object(E.a)({},d),{},{createdFlight:void 0,error:"Couldn't Update"}))})).catch((function(e){console.log(e)}))};return r.a.createElement(p,{title:"Update a flight here!",description:"This is the flight update section",className:"container bg-info p-4"},r.a.createElement(o.b,{to:"/Tripster/admin/dashboard",className:"btn btn-md btn-dark mb-3"},"Admin Home"),r.a.createElement("div",{className:"row bg-dark text-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("div",{className:"alert alert-success mt-3",style:{display:k?"":"none"}},r.a.createElement("h4",null,k," updated successfully")),r.a.createElement("div",{className:"alert alert-warning mt-3",style:{display:x?"":"none"}},r.a.createElement("h4",null,"Couldn't update flight")),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("input",{onChange:A("brand"),name:"brand",className:"form-control",placeholder:"Brand",value:b})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:A("name"),name:"name",className:"form-control",placeholder:"Name",value:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:A("description"),name:"photo",className:"form-control",placeholder:"Description",value:y})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:A("price"),type:"number",className:"form-control",placeholder:"Price",value:v})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:A("source"),className:"form-control",placeholder:"Source",value:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:A("destination"),className:"form-control",placeholder:"Destination",value:C})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:A("total_seats_count"),type:"number",className:"form-control",placeholder:"Total Seats Count",value:T})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{onChange:A("category"),className:"form-control",placeholder:"Category"},r.a.createElement("option",null,"Select"),j&&j.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:A("seats_remaining"),type:"number",className:"form-control",placeholder:"Seats Remaining",value:w})),r.a.createElement("button",{type:"submit",onClick:D,className:"btn btn-outline-success mb-3"},"Create Flight")))))};var $=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=m(),s=l.user._id,u=l.token,d=function(){B().then((function(e){e.error?console.log(e.error):(console.log(e),c(e))}))};Object(n.useEffect)((function(){d()}),[]);var h=function(e){(function(e,t,a){return fetch("".concat(i,"/flight-category/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e,s,u).then((function(e){e.error?console.log("deleteOneCategory",e.error):d()})).catch()};return r.a.createElement(p,{title:"Welcome admin",description:"Manage flightCategories here"},r.a.createElement("h2",{className:"mb-4"},"All products:"),r.a.createElement(o.b,{className:"btn btn-info",to:"/Tripster/admin/dashboard"},r.a.createElement("span",{className:""},"Admin Home")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"text-center text-white my-3"},"Total ",a.length," products"),a.map((function(e,t){return r.a.createElement("div",{key:t,className:"row text-center mb-2 "},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",{className:"text-white text-left"},e.name)),r.a.createElement("div",{className:"col-4"},r.a.createElement(o.b,{className:"btn btn-success",to:"/Tripster/admin/flight-category/update/".concat(e._id)},r.a.createElement("span",{className:""},"Update"))),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{onClick:function(){h(e._id)},className:"btn btn-danger"},"Delete")))})))))};var ee=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=m(),s=l.user._id,u=l.token,d=function(){z().then((function(e){e.error?console.log(e.error):(console.log(e),c(e))}))};Object(n.useEffect)((function(){d()}),[]);var h=function(e){(function(e,t,a){return fetch("".concat(i,"/hotel-category/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(e,s,u).then((function(e){e.error?console.log("deleteOneCategory",e.error):d()})).catch()};return r.a.createElement(p,{title:"Welcome admin",description:"Manage hotelCategories here"},r.a.createElement("h2",{className:"mb-4"},"All products:"),r.a.createElement(o.b,{className:"btn btn-info",to:"/Tripster/admin/dashboard"},r.a.createElement("span",{className:""},"Admin Home")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"text-center text-white my-3"},"Total ",a.length," products"),a.map((function(e,t){return r.a.createElement("div",{key:t,className:"row text-center mb-2 "},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",{className:"text-white text-left"},e.name)),r.a.createElement("div",{className:"col-4"},r.a.createElement(o.b,{className:"btn btn-success",to:"/admin/hotel-category/update/".concat(e._id)},r.a.createElement("span",{className:""},"Update"))),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{onClick:function(){h(e._id)},className:"btn btn-danger"},"Delete")))})))))};var te=function(e){var t=e.match,a=Object(n.useState)(""),c=Object(g.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=Object(g.a)(u,2),h=d[0],f=d[1],E=Object(n.useState)(!1),b=Object(g.a)(E,2),N=b[0],v=b[1],y=m(),j=y.user._id,O=y.token,C=function(e){var t;(t=e,fetch("".concat(i,"/flight-category/").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){s(e.name)}))};Object(n.useEffect)((function(){C(t.params.flightCategoryId)}),[]);var T=function(e){f(""),s(e.target.value)},w=function(e){e.preventDefault(),f(""),v(!1),function(e,t,a,n){return fetch("".concat(i,"/flight-category/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(t.params.flightCategoryId,j,O,{name:l}).then((function(e){e.error?f(e.error):(f(""),v(!0),s(""))}))};return r.a.createElement(p,{title:"Update a flight category here",description:"Update an existing flight category",className:"container bg-info p-4"},r.a.createElement("div",{className:"row bg-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},function(){if(N)return r.a.createElement("h4",{className:"text-success"},"Category updated successfully")}(),function(){if(h)return r.a.createElement("h4",{className:"text-warning"},"Failed to update flight category: ".concat(h))}(),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"lead"},"Enter a name for your flight category."),r.a.createElement("input",{type:"text",className:"form-control my-3",onChange:T,value:l,autoFocus:!0,required:!0,placeholder:"For e.g. Summer"}),r.a.createElement("button",{className:"btn btn-outline-info",onClick:w},"Update Category"))),r.a.createElement("div",{className:"mt-5"},r.a.createElement(o.b,{to:"/Tripster/admin/dashboard",className:"btn btn-sm btn-success mb-3"},"Admin Home")))))};var ae=function(e){var t=e.match,a=Object(n.useState)(""),c=Object(g.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=Object(g.a)(u,2),h=d[0],f=d[1],E=Object(n.useState)(!1),b=Object(g.a)(E,2),N=b[0],v=b[1],y=m(),j=y.user._id,O=y.token,C=function(e){var t;(t=e,fetch("".concat(i,"/hotel-category/").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){s(e.name)}))};Object(n.useEffect)((function(){C(t.params.hotelCategoryId)}),[]);var T=function(e){f(""),s(e.target.value)},w=function(e){e.preventDefault(),f(""),v(!1),function(e,t,a,n){return fetch("".concat(i,"/hotel-category/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(t.params.hotelCategoryId,j,O,{name:l}).then((function(e){e.error?f(e.error):(f(""),v(!0),s(""))}))};return r.a.createElement(p,{title:"Update a hotel category here",description:"Update an existing hotel category",className:"container bg-info p-4"},r.a.createElement("div",{className:"row bg-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},function(){if(N)return r.a.createElement("h4",{className:"text-success"},"Category updated successfully")}(),function(){if(h)return r.a.createElement("h4",{className:"text-warning"},"Failed to update hotel category: ".concat(h))}(),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"lead"},"Enter a name for your hotel category."),r.a.createElement("input",{type:"text",className:"form-control my-3",onChange:T,value:l,autoFocus:!0,required:!0,placeholder:"For e.g. Summer"}),r.a.createElement("button",{className:"btn btn-outline-info",onClick:w},"Update Category"))),r.a.createElement("div",{className:"mt-5"},r.a.createElement(o.b,{to:"/Tripster/admin/dashboard",className:"btn btn-sm btn-success mb-3"},"Admin Home")))))};var ne=function(){var e=m(),t=e.user._id,a=e.token,c=Object(n.useState)({fName:"",lName:"",email:"",photo:"",error:"",success:!1,formData:""}),l=Object(g.a)(c,2),s=l[0],u=l[1],d=s.fName,h=s.lName,b=s.email,N=(s.photo,s.error),v=s.success,y=s.formData;Object(n.useEffect)((function(){U(t,a).then((function(e){console.log("UPDATE USER: ",e),e&&(e.error?u(Object(E.a)(Object(E.a)({},s),{},{error:e.error})):u(Object(E.a)(Object(E.a)({},s),{},{fName:e.fName,lName:e.lName,email:e.email,formData:new FormData})))}))}),[]);var j=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;y.set(e,a),u(Object(E.a)(Object(E.a)({},s),{},Object(f.a)({},e,a)))}},O=function(e){e.preventDefault(),u(Object(E.a)(Object(E.a)({},s),{},{error:""})),function(e,t,a){return fetch("".concat(i,"/user/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){console.log("ERROR: ",e)}))}(t,a,y).then((function(e){console.log("UPDATE USER ATTEMPT: ",e),e.error?u(Object(E.a)(Object(E.a)({},s),{},{error:e.error,success:!1})):u(Object(E.a)(Object(E.a)({},s),{},{fName:e.fName,lName:e.lName,email:e.email,error:"",success:!0}))})).catch((function(e){console.log("CAUGHT AT FRONTEND: Error In Registration: ",e)}))};return r.a.createElement(p,{title:"Update Profile Here",description:"A page for user to update their profile",className:"container bg-info p-4"},r.a.createElement(o.b,{to:m().user.role<1?"/user/dashboard":"/admin/dashboard",className:"btn btn-md btn-dark mb-3"},m().user.role<1?"User Dashboard":"Admin Dashboard"),r.a.createElement("div",{className:"row bg-dark text-white rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2 mt-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-success",style:{display:v?"":"none"}},"Updated profile successfully. The changes will be reflected once you login again. Go Back to"," ",r.a.createElement(o.b,{to:m().user.role<1?"/Tripster/user/dashboard":"/Tripster/admin/dashboard"},"Dashboard")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-danger",style:{display:N?"":"none"}},N))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"First Name"),r.a.createElement("input",{className:"form-control",type:"text",onChange:j("fName"),value:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Last Name"),r.a.createElement("input",{className:"form-control",type:"text",onChange:j("lName"),value:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",onChange:j("email"),value:b})),r.a.createElement("button",{onClick:O,className:"btn btn-success btn-block mb-3"},"Update Profile")))))))};var re=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(g.a)(l,2),i=s[0],u=s[1],d=m(),h=d.user._id,f=d.token;return Object(n.useEffect)((function(){U(h,f).then((function(e){if(e)if(e.error)console.log(e.error);else{var t=e.flight_purchases,a=e.hotel_purchases;c(t),u(a)}}))}),[]),r.a.createElement(p,{title:"Welcome User",description:"View orders here"},r.a.createElement("h2",{className:"mb-4"},"All Orders:"),r.a.createElement(o.b,{className:"btn btn-info",to:m().user.role<1?"/user/dashboard":"/admin/dashboard"},r.a.createElement("span",{className:""},"Admin Dashboard")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("hr",null),r.a.createElement("h2",{className:"text-center text-white my-3"},"Following are your flight orders"),r.a.createElement("hr",null),a.map((function(e,t){return r.a.createElement("div",{key:t,className:"row text-center mb-2"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",{className:"text-white text-center"},r.a.createElement("span",{style:{fontSize:"1.5rem",paddingRight:"1.5rem"}},"Flight Name:"),e.brand," ",e.name)),r.a.createElement("div",{className:"col-8"},r.a.createElement("h2",{className:"text-white text-center",style:{fontSize:"1.5rem"}},r.a.createElement("span",{style:{fontSize:"1.5rem",paddingRight:"1.5rem"}},"Flight ID:"),e._id)))})),r.a.createElement("hr",null),r.a.createElement("h2",{className:"text-center text-white my-3"},"Following are your hotel orders"),r.a.createElement("hr",null),i.map((function(e,t){return r.a.createElement("div",{key:t,className:"row text-center mb-2 "},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",{className:"text-white text-center"},r.a.createElement("span",{style:{fontSize:"1.5rem",paddingRight:"1.5rem"}},"Hotel Name:"),e.brand," ",e.name)),r.a.createElement("div",{className:"col-8"},r.a.createElement("h2",{className:"text-white text-center",style:{fontSize:"1.5rem"}},r.a.createElement("span",{style:{fontSize:"1.5rem",paddingRight:"1.5rem"}},"Flight ID:"),e._id)))})))))},ce=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=m()&&m().user._id,o=m()&&m().token,s=function(){(function(e,t){return fetch("".concat(i,"/order/all/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(l,o).then((function(e){e&&(e.error?console.log("getAllOrders ERROR: ",e.error):c(e))}))};return Object(n.useEffect)((function(){s()})),r.a.createElement(p,{title:"View All Orders",description:"The Admin can view all the orders placed on the app."},r.a.createElement("hr",null),a.map((function(e,t){var a=e.status,n=e._id,c=e.createdAt,l=e.updatedAt;return r.a.createElement("div",{className:"text-center",key:t},r.a.createElement("p",null,"Order's ID: ",n),r.a.createElement("p",null,"Order Status: ",a),r.a.createElement("p",null,"Created At: ",c),r.a.createElement("p",null,"Updated At: ",l),r.a.createElement("hr",null))})))},le=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],l=m()&&m().user._id,o=m()&&m().token,s=function(){(function(e,t){return fetch("".concat(i,"/users/all/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(l,o).then((function(e){e&&(e.error?console.log("getAllUsers ERROR: ",e.error):c(e))}))};return Object(n.useEffect)((function(){s()})),r.a.createElement(p,{title:"View All Users",description:"The Admin can view all users registered for this app."},r.a.createElement("h1",{className:"text-center"},"List of all app users"),r.a.createElement("hr",null),a.map((function(e,t){var a=e._id,n=e.fName,c=e.lName,l=e.role;return r.a.createElement("div",{className:"text-center",key:t},r.a.createElement("p",null,"First Name: ",n),r.a.createElement("p",null,"Last Name: ",c),r.a.createElement("p",null,"User ID: ",a),r.a.createElement("p",null,"Admin Priviledges:"," ",r.a.createElement("span",{className:1===l?"badge badge-success":"badge badge-danger"},1===l?"GRANTED":"DENIED")),r.a.createElement("hr",null))})))};var oe=function(){return r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/Tripster",exact:!0,component:h}),r.a.createElement(s.b,{path:"/Tripster/flights",exact:!0,component:_}),r.a.createElement(s.b,{path:"/Tripster/hotels",exact:!0,component:k}),r.a.createElement(s.b,{path:"/Tripster/register",exact:!0,component:b}),r.a.createElement(s.b,{path:"/Tripster/login",exact:!0,component:N}),r.a.createElement(s.b,{path:"/Tripster/cart",exact:!0,component:A}),r.a.createElement(F,{path:"/Tripster/admin/dashboard",exact:!0,component:I}),r.a.createElement(F,{path:"/Tripster/admin/create/flight-category",exact:!0,component:J}),r.a.createElement(F,{path:"/Tripster/admin/create/hotel-category",exact:!0,component:G}),r.a.createElement(F,{path:"/Tripster/admin/create/hotel",exact:!0,component:W}),r.a.createElement(F,{path:"/Tripster/admin/create/flight",exact:!0,component:Q}),r.a.createElement(F,{path:"/Tripster/admin/hotels",exact:!0,component:Y}),r.a.createElement(F,{path:"/Tripster/admin/flights",exact:!0,component:X}),r.a.createElement(F,{path:"/Tripster/admin/hotel/update/:hotelId",exact:!0,component:V}),r.a.createElement(F,{path:"/Tripster/admin/flight/update/:flightId",exact:!0,component:Z}),r.a.createElement(F,{path:"/Tripster/admin/flight-categories",exact:!0,component:$}),r.a.createElement(F,{path:"/Tripster/admin/hotel-categories",exact:!0,component:ee}),r.a.createElement(F,{path:"/Tripster/admin/flight-category/update/:flightCategoryId",exact:!0,component:te}),r.a.createElement(F,{path:"/Tripster/admin/hotel-category/update/:hotelCategoryId",exact:!0,component:ae}),r.a.createElement(F,{path:"/Tripster/admin/orders",exact:!0,component:ce}),r.a.createElement(M,{path:"/Tripster/user/dashboard",exact:!0,component:L}),r.a.createElement(F,{path:"/Tripster/admin/users/all",exact:!0,component:le}),r.a.createElement(M,{path:"/Tripster/user/update/profile",exact:!0,component:ne}),r.a.createElement(M,{path:"/Tripster/user/orders",exact:!0,component:re})))};a(166);l.a.render(r.a.createElement(oe,null),document.getElementById("root"))},76:function(e,t,a){e.exports=a.p+"static/media/default-hotel.22a95b53.png"},79:function(e,t,a){e.exports=a.p+"static/media/default-user.84737484.jpg"},80:function(e,t,a){e.exports=a(167)}},[[80,1,2]]]);
//# sourceMappingURL=main.e851aeef.chunk.js.map